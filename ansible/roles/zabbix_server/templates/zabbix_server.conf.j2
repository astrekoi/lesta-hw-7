# Сгенерировано Ansible - НЕ РЕДАКТИРОВАТЬ ВРУЧНУЮ!

# Логирование
LogFile=/var/log/zabbix/zabbix_server.log
LogFileSize=10
LogSlowQueries=3000

# PID и Socket директории
PidFile=/var/run/zabbix/zabbix_server.pid
SocketDir=/var/run/zabbix

# Настройки прослушивания портов
ListenPort=10051
ListenIP=0.0.0.0

# Database configuration
DBHost=localhost
DBName={{ zabbix_db_name }}
DBUser={{ zabbix_db_user }}
DBPassword={{ zabbix_db_password }}
DBSocket=/var/run/mysqld/mysqld.sock

# Настрйоки для высокой нагрузки
StartPollers=30
StartIPMIPollers=10
StartPreprocessors=15
StartPollersUnreachable=5
StartTrappers=10
StartPingers=5
StartDiscoverers=5
StartHTTPPollers=5
StartTimers=2
StartEscalators=2

# Память и производительность
CacheSize=256M
HistoryCacheSize=128M
HistoryIndexCacheSize=64M
TrendCacheSize=32M
ValueCacheSize=128M

# Timeout настройки
Timeout=30
TrapperTimeout=300
UnreachablePeriod=45
UnavailableDelay=60
UnreachableDelay=15

# Alert scripts
AlertScriptsPath=/usr/lib/zabbix/alertscripts
ExternalScripts=/usr/lib/zabbix/externalscripts

# SECURITY
AllowUnsupportedDBVersions=0

# Housekeeping для PRODUCTION
HousekeepingFrequency=1
MaxHousekeeperDelete=50000
